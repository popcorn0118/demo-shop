"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[248],{2266:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(5458),r=a(4467),l=a(296),s=a(6540),i=a(5666),o=a(7458),_=a(3112),c=a(5419),u=a(7733),d=a(7767);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,r.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f=s.lazy(function(){return a.e(476).then(a.bind(a,71))}),g=s.lazy(function(){return a.e(612).then(a.bind(a,8295))}),b=s.lazy(function(){return a.e(324).then(a.bind(a,359))}),w=s.lazy(function(){return a.e(402).then(a.bind(a,3547))}),h=s.lazy(function(){return Promise.all([a.e(550),a.e(661)]).then(a.bind(a,5461))});const y=function(){var e=(0,s.useContext)(_.Hi),t=(0,d.g)().active,a=(0,s.useContext)(_.DC),r=a.CommonState,p=a.setCommonState,y=a.appState,E=a.setSaveSettingsValue,v=s.useState(e?"License":"General Settings"),k=(0,l.A)(v,2),x=k[0],S=k[1],C=s.useState("Products"),D=(0,l.A)(C,2),O=D[0],A=D[1],j=s.useState([]),F=(0,l.A)(j,2),N=F[0],P=F[1],H=s.useState({}),B=(0,l.A)(H,2),z=B[0],L=B[1],M=s.useState(!1),R=(0,l.A)(M,2),Y=R[0],G=R[1],K=s.useContext(_.ib),V=s.useState({loading:!0,data:{wlr_earning_status:["processing","completed"],wlr_removing_status:[],wlr_point_rounding_type:"round",wlr_my_account_label_icon_position:"no",wlr_point_label:"points",wlr_point_singular_label:"point",product_message_display_position:"before_add_to_cart",wlr_is_cart_earn_message_enable:"yes",wlr_cart_earn_point_display:"before",wlr_cart_earn_points_message:"Complete your order and earn {wlr_cart_points} {wlr_points_label} & rewards for a discount on a future purchase",wlr_is_cart_redeem_message_enable:"yes",wlr_cart_redeem_point_display:"before",wlr_cart_redeem_points_message:"You have {wlr_redeem_cart_points} {wlr_points_label} earned choose your rewards {wlr_reward_link}",wlr_is_checkout_earn_message_enable:"yes",wlr_checkout_earn_points_message:"Complete your order and earn {wlr_cart_points} {wlr_points_label} & rewards for a discount on a future purchase",wlr_is_checkout_redeem_message_enable:"yes",wlr_checkout_redeem_points_message:"You have {wlr_redeem_cart_points} {wlr_points_label} earned choose your rewards {wlr_reward_link}",wlr_is_thank_you_message_enable:"yes",wlr_thank_you_message:"You have earned {wlr_earned_points} {wlr_points_label} for this order. You have a total of {wlr_total_points}.",wlr_thank_you_position:"before",license_key:"",reward_code_prefix:"WLR-",wlr_referral_prefix:"REF-",earn_cart_text_color:"#9CC21D",earn_cart_border_color:"#9CC21D",earn_cart_background_color:"#ffffff",redeem_cart_text_color:"#9CC21D",redeem_cart_border_color:"#9CC21D",redeem_cart_background_color:"#ffffff",is_campaign_display:"yes",is_transaction_display:"yes",is_reward_display:"no",is_campaign_point_display:"yes",is_sent_email_display:"yes",user_action_list:["signin"],allow_auto_generate_coupon:"yes",individual_use_coupon:"no",earn_message_icon:"",redeem_message_icon:"",redeem_point_icon:"",available_point_icon:"",used_reward_icon:"",redeem_button_text:"Redeem Now",apply_coupon_button_text:"Apply Coupon",redeem_button_color:"#4F47EB",redeem_button_text_color:"#ffffff",apply_coupon_border_color:"#FF8E3D",apply_coupon_button_text_color:"#ffffff",apply_coupon_button_color:"#4F47EB",apply_coupon_background:"#FFF8F3",theme_color:"#4F47EB",heading_color:"#1D2327",border_color:"#CFCFCF",background_color:"#ffffff",button_text_color:"#ffffff",pagination_limit:10,is_revert_enabled:"no",debug_mode:"no",is_earn_point_after_discount:"no",reward_plural_label:"rewards",reward_singular_label:"reward",birthday_display_place:["do_not_show"],user_display_conditions:[],is_one_time_birthdate_edit:"no",is_campaign_level_batch_display:"no",tax_calculation_type:"inherit",allow_earning_when_coupon:"yes"}}),W=(0,l.A)(V,2),q=W[0],I=W[1];s.useEffect(function(){"Emails"===t&&S(K.settings.email.name)},[]);var J,Q,T=[{label:K.settings.license.name,subtitle:null,click:function(){return S(K.settings.license.name)},id:"wpl_licence_id"},{label:K.settings.earn_point.name,subtitle:null,click:function(){return S(K.settings.earn_point.name)},id:"wpl_general_id"},{label:K.settings.display_message.name,subtitle:K.settings.display_message.description,click:function(){return S(K.settings.display_message.name)},id:"wpl_display_message_id"},{label:K.settings.pages.name,subtitle:null,click:function(){return S(K.settings.pages.name)},id:"wpl_custom_page_id"},{label:K.settings.email.name,subtitle:null,click:function(){return S(K.settings.email.name)},id:"wpl_email_setting_id"}],U=function(e){var t=e.tab,a=x===t.label;return s.createElement("div",{className:" flex bg-white px-7 pt-5 pb-3 items-center \n      cursor-pointer border-b-2  ".concat(a?"border-primary":"border-transparent"," "),onClick:t.click,id:t.id},s.createElement("h4",{className:" font-medium antialiased text-16px  ".concat(a?"text-primary":"text-dark"," ")},t.label))},X=function(){var e={wlr_nonce:y.local.settings.wlr_setting_nonce,action:"wlr_get_settings"};I(function(e){return m(m({},e),{},{loading:!0})}),(0,o.MB)(e).then(function(e){var t=(0,c.xu)(e.data);if(!0===t.success&&null!==t.data&&t.data!=={}){var a=m(m({},q.data),t.data);I(m(m({},q),{},{data:a,loading:!1}))}else!1===t.success&&null!==t.data&&(alertify.error(t.data.message),I(m(m({},q),{},{loading:!1})))})};return s.useEffect(function(){X()},[]),s.useEffect(function(){G(!1)},[x]),s.createElement("div",{className:"w-full h-full  rounded-b-xl bg-white flex flex-col  py-5 px-8 "},s.createElement("div",{className:"flex items-center justify-between w-full"},s.createElement("h4",{className:"text-dark tracking-wider font-bold uppercase "},K.settings.name),s.createElement("div",{className:"flex items-center space-x-3 "},s.createElement(i.A,{icon:s.createElement("i",{className:"text-md text-white leading-0 antialiased wlr wlrf-save color-important "}),bgColor:"bg-primary",textStyle:"text-white font-medium text-sm_14_l_20",padding:"px-5 py-3",outline:!0,disabled:Y,outlineStyle:"border-primary-light",click:function(e){var t,a;e.preventDefault(),t={wlr_nonce:y.local.settings.wlr_setting_nonce,action:"wlr_save_settings",option_key:"wlr_settings"},a=m({},q.data),Object.keys(a).map(function(e){return"oauth_signature"!==e&&(t[e]=a[e]),e}),G(!0),I(function(e){return m(m({},e),{},{loading:!0})}),(0,o.MB)(t).then(function(e){var t=(0,c.xu)(e.data);(0,c.RK)(r,p,q.data.pagination_limit),!0===t.success&&null!==t.data&&t.data!=={}?(alertify.success(t.message),P([])):!1===t.success&&null!==t.data&&(L(t.data),(0,c.E0)(t.data,{setErrorList:P}),t.message&&(alertify.success(t.message),E(10*Math.random())),t.field_error&&(0,c.E0)(t.field_error)),G(!1),I(function(e){return m(m({},e),{},{loading:!1})})})}},K.common.save_changes))),s.createElement("div",{className:"flex  w-full   border-b border-light_border "},e?T.map(function(e){return s.createElement(U,{tab:e,key:e.label})}):(J=T,Q=[],(0,n.A)(J).map(function(e){["License"].includes(e.label)||Q.push(e)}),Q).map(function(e){return s.createElement(U,{tab:e,key:e.label})})),q.loading?s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5",width:"w-74_% 2xl:w-7/12 "}):s.createElement(_.BN.Provider,{value:{State:q,setState:I,localState:y,errorList:N,errors:z,setErrors:L,activeDisplayMessage:O,setActiveDisplayMessage:A}},s.createElement("div",{className:" w-74_% 2xl:w-7/12 "},function(){switch(x){case K.settings.license.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(f,null));case K.settings.earn_point.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(g,null));case K.settings.display_message.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(b,null));case K.settings.pages.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(w,null));case K.settings.email.name:return s.createElement(s.Suspense,{fallback:s.createElement(u.A,{dataHeight:"h-20",listData:2,height:"h-113.5"})},s.createElement(h,{getSettings:X,SetDisableSave:G}))}}())))}}}]);