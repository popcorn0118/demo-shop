"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[50],{1529:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var r=a(6540),n=a(3112),l=a(5419),c=a(467),i=a(4467),s=a(296),o=a(4756),d=a.n(o),m=a(1904);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const u=function(e){var t=e.reward,a=e.updateAction,i=e.saveEndAt,o=e.saveExpireEmailDate,p=e.end_at,u=e.expire_email_date,f=e.span,_=void 0===f?"col-span-2":f,w=e.margin,v=(0,r.useState)(!1),E=(0,s.A)(v,2),g=E[0],b=E[1],h=(0,r.useState)({end_at:t.end_at,expire_email_date:t.expire_email_date}),y=(0,s.A)(h,2),N=y[0],k=y[1],O=(0,r.useContext)(n.Hi),j=(0,r.useContext)(n.ib);return(0,r.useEffect)(function(){return k(x(x({},N),{},{end_at:t.end_at,expire_email_date:t.expire_email_date})),function(){b(!1)}},[t]),r.createElement("div",{className:"".concat(_," ").concat(w," flex items-center  space-x-5 w-full ")},!g&&r.createElement("div",{className:"flex items-center  gap-x-2"},p?r.createElement("span",{className:"text-dark text-xs 2xl:text-sm font-semibold"},"open"===t.status?j.common.dash_character:t.end_at_converted):r.createElement("span",{className:"text-dark text-xs 2xl:text-sm font-semibold"},"open"===t.status?j.common.dash_character:t.expire_email_date_converted)),g?r.createElement("div",{className:"flex items-center gap-x-1 2xl:gap-x-2  "},r.createElement(m.A,{type:"date",value:p?N.end_at:N.expire_email_date,min:(0,l.pp)(new Date),max:u&&(0,l.pp)(t.end_at),others:"h-8 ",onChange:function(e){k(x(x({},N),{},p?{end_at:e.target.value}:{expire_email_date:e.target.value}))},onKeyDown:function(e){return e.preventDefault()}}),r.createElement("div",{className:"flex items-center space-x-1 2xl:space-x-2  "},r.createElement("div",{onClick:function(){var e=(0,c.A)(d().mark(function e(r){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=1,p;case 1:if(!e.sent){e.next=2;break}i(N.end_at,t),e.next=3;break;case 2:o(N.expire_email_date,t);case 3:a(t,p?"expiry_date":"expiry_email"),b(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),className:"flex items-center justify-center h-8   w-8  bg-primary rounded text-white cursor-pointer"},r.createElement("i",{className:" wlr wlrf-tick text-center color-important font-bold text-sm 2xl:text-xl  leading-0  "})),r.createElement("div",{onClick:function(e){e.preventDefault(),b(!1)},className:"flex items-center justify-center rounded bg-light_border h-8   w-8   cursor-pointer"},r.createElement("i",{className:"  text-center wlr wlrf-close color-important font-bold text-xl text-light leading-0  "})))):r.createElement("div",null,"active"===t.status&&(p?"-"!==t.end_at_converted:"-"!==t.expire_email_date_converted)&&r.createElement("span",null,O&&r.createElement("i",{className:"wlr wlrf-edit cursor-pointer text-xs 2xl:text-lg  text-light font-medium  ",title:"edit",onClick:function(){b(!0)}}))))};var f=a(3368);const _=function(e){var t=e.Reward,a=e.saveExpireEmailDate,c=e.saveEndAt,i=e.updateDate,s=e.copied,o=r.useContext(n.ib);return r.createElement("div",{className:"grid grid-cols-12 gap-4  w-full items-center  min-w-full rounded border-b border-light_border ",style:{minWidth:"1024px"}},r.createElement(function(e){var t=e.children,a=e.reward_code,n=e.id;return r.createElement("div",{className:"grid  col-span-3 p-2  w-full antialiased  self-center "},r.createElement("div",{className:"flex flex-col items-start justify-center gap-y-1 w-full"},r.createElement("h3",{className:" text-dark text-sm 2xl:text-md lead antialiased  overflow-hidden whitespace-nowrap overflow-ellipsis font-semibold w-50 xl:w-62 2xl:w-75 ",title:t},t),""!==a&&r.createElement("div",{className:"flex items-center  space-x-3 border-2 border-dashed rounded px-3 border-light_border bg-primary_extra_light "},r.createElement("p",{className:" text-dark text-xs xl:text-sm \n              tracking-2px font-normal \n              antialiased ",title:a},a),r.createElement("i",{onClick:function(){s.set(n),(0,l.rN)(a,o.common.copy)},className:"wlr wlrf-".concat(s.value==n?"tick text-primary text-xl":"copy text-light text-lg","  font-medium    color-important cursor-pointer"),title:o.common.click_to_copy}))))},{id:t.id,reward_code:t.discount_code},t.name),r.createElement(function(e){var t=e.children;return r.createElement("p",{className:"col-span-2 text-xs 2xl:text-sm  self-center  text-dark overflow-hidden overflow-ellipsis  whitespace-nowrap w-39 2xl:w-full ",title:t},t)},null,t.action_name?t.action_name:"-"),r.createElement(function(e){var t=e.children;return r.createElement("div",{className:"flex items-center  gap-x-1 2xl:gap-x-2 ml-2.5 2xl:ml-0"},r.createElement("span",{className:"h-3 w-3 rounded  ".concat("active"===t?"bg-active_green":"bg-wpl_warning")}),r.createElement("p",{className:"col-span-1  text-sm 2xl:text-md text-dark max-w-30"},t))},null,t.status),r.createElement(f.A,{date:t.created_at,id:t.id}),r.createElement(u,{span:"col-span-3",end_at:t.end_at,reward:t,updateAction:i,saveEndAt:c,saveExpireEmailDate:a}),r.createElement(u,{span:"col-span-2",expire_email_date:t.expire_email_date,reward:t,updateAction:i,saveEndAt:c,saveExpireEmailDate:a,margin:"-ml-5"}))}}}]);