"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[476],{71:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(4467),s=a(467),r=a(296),c=a(454),l=a(4756),i=a.n(l),o=a(6540),u=a(1904),d=a(5666),m=a(3112),f=a(5419),p=a(7458);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g=function(e){var t;(0,c.A)(e);var a=o.useContext(m.BN),n=a.State,l=a.setState,v=a.localState,g=(a.errors,a.errorList),y=o.useContext(m.ib),_=(0,o.useState)(!1),w=(0,r.A)(_,2),h=w[0],b=w[1],k=(0,o.useState)(!1),E=(0,r.A)(k,2),O=E[0],N=E[1],j="active"===(null==n||null===(t=n.data)||void 0===t?void 0:t.license_status),A=function(){var e=(0,s.A)(i().mark(function e(){var t,a,s,r,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t={wlr_nonce:v.local.common.wlr_common_user_nonce,action:"wlr_activate_license",license_key:n.data.license_key},e.prev=1,e.next=2,(0,p.MB)(t);case 2:a=e.sent,(s=(0,f.xu)(null==a?void 0:a.data)).success?(alertify.success(s.data.message),l(x(x({},n),{},{data:x(x({},n.data),{},{license_status:(null==s||null===(r=s.data)||void 0===r?void 0:r.status)||"active"})}))):(alertify.error(s.data.message),l(x(x({},n),{},{data:x(x({},n.data),{},{license_status:(null==s||null===(c=s.data)||void 0===c?void 0:c.status)||"inactive"})}))),e.next=4;break;case 3:e.prev=3,e.catch(1),alertify.error(y.settings.license.error_message);case 4:b(!1);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,s.A)(i().mark(function e(){var t,a,s,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t={wlr_nonce:v.local.common.wlr_common_user_nonce,action:"wlr_deactivate_license",license_key:n.data.license_key},e.prev=1,e.next=2,(0,p.MB)(t);case 2:a=e.sent,(s=(0,f.xu)(null==a?void 0:a.data)).success?(alertify.success(s.data.message),l(x(x({},n),{},{data:x(x({},n.data),{},{license_status:(null==s||null===(r=s.data)||void 0===r?void 0:r.status)||"inactive"})}))):alertify.error(s.data.message),e.next=4;break;case 3:e.prev=3,e.catch(1),alertify.error(y.settings.license.error_message);case 4:b(!1);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.A)(i().mark(function e(){var t,a,s,r,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),t={wlr_nonce:v.local.common.wlr_common_user_nonce,action:"wlr_check_license_status",license_key:n.data.license_key},e.prev=1,e.next=2,(0,p.MB)(t);case 2:a=e.sent,(s=(0,f.xu)(null==a?void 0:a.data)).success?(alertify.success(s.data.message),l(x(x({},n),{},{data:x(x({},n.data),{},{license_status:(null==s||null===(r=s.data)||void 0===r?void 0:r.status)||n.data.license_status})}))):(alertify.error(s.data.message),l(x(x({},n),{},{data:x(x({},n.data),{},{license_status:(null==s||null===(c=s.data)||void 0===c?void 0:c.status)||"inactive"})}))),e.next=4;break;case 3:e.prev=3,e.catch(1),alertify.error(y.settings.license.error_message);case 4:N(!1);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return o.createElement("div",{className:"flex flex-col justify-start bg-white w-full mt-3 xl:mt-4 2xl:mt-5",id:"license_settings"},o.createElement("h4",{className:"text-dark font-semibold text-lg tracking-wide "},y.settings.license.name),o.createElement("p",{className:"text-sm text-light font-normal mt-2 2xl:mt-2.5 "}," ",y.settings.license.description,o.createElement("span",null,o.createElement("a",{className:"no-underline  text-primary text-sm focus:shadow-none hover:underline",href:"https://wployalty.net/my-account/?utm_campaign=wployalty-link&utm_medium=licence&utm_source=myaccount",target:"_blank",id:"wployalty_license"}," ",y.settings.license.flycart))),o.createElement("div",{className:"flex flex-col w-full mt-3 xl:mt-4 2xl:mt-5"},o.createElement("div",{className:"flex items-start w-full gap-x-5"},o.createElement("div",{className:"flex-1 flex flex-col justify-center"},o.createElement(u.A,{id:"license_key",type:"text",value:["null",null,void 0].includes(n.data.license_key)?"":n.data.license_key,placeHolder:y.settings.license.license_key.placeholder,border:"border-2 border-opacity-100 ".concat(j?"border-green-500":"border-red-600 "),textColor:j?"text-green-600":"text-red-600",onChange:function(e){l(x(x({},n),{},{data:x(x({},n.data),{},{license_key:e.target.value})}))},error:g.includes("license_key")}),o.createElement("div",{className:"flex items-center gap-1 mt-2"},o.createElement("span",{className:"text-sm text-gray-600"},y.settings.license.status||"Status",":"),o.createElement("span",{className:"text-sm font-medium ".concat(j?"text-green-600":"text-red-600")},j?y.settings.license.active||"Active":y.settings.license.inactive||"Inactive"),o.createElement("i",{onClick:function(){!O&&C()},className:"text-sm wlr wlrf-refresh cursor-pointer ".concat(O?"text-gray-400":"text-blue-600"," ml-1"),title:y.settings.license.refresh||"Refresh Status"}))),o.createElement("div",{className:"flex items-center gap-2 h-full"},!j&&o.createElement(d.A,{id:"activate_key",icon:o.createElement("i",{className:"text-md text-white leading-0 antialiased wlr wlrf-save color-important"}),textStyle:"text-white font-medium text-sm_14_l_20",bgColor:"bg-green-600",others:"tracking-wide h-[48px] flex items-center",padding:"px-5 py-3",disabled:h,click:function(e){e.preventDefault(),A()}},y.settings.license.activate||"Activate"),j&&o.createElement(d.A,{id:"deactivate_key",icon:o.createElement("i",{className:"text-md text-white leading-0 antialiased wlr wlrf-save color-important"}),textStyle:"text-white font-medium text-sm_14_l_20",bgColor:"bg-red-600",others:"tracking-wide h-[48px] flex items-center",padding:"px-5 py-3",disabled:h,click:function(e){e.preventDefault(),S()}},y.settings.license.deactivate||"Deactivate")))))}}}]);